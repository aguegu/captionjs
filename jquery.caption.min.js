/*!
 * caption.js | easily and semantically add captions to your images
 * http://captionjs.com
 *
 * Copyright 2013-2014, Eric Magnuson
 * Released under the MIT license
 * https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt
 *
 * v0.9.4
 * Date: 2014-03-24
 */
 (function(e,t,n){e.fn.captionjs=function(t){var r={class_name:"captionjs",schema:true,mode:"default",debug_mode:false,force_dimensions:false};var i=e.extend(r,t||{});return this.each(function(){if(i.debug_mode)console.log("caption.js | Starting.");var t=e(this),r=t.data("caption")?t.data("caption"):t.attr("alt"),s=t.wrap('<figure class="'+i.class_name+'"/>').after("<figcaption/>").parent(),o=t.next("figcaption").html(r),u,a;if(r==="")o.remove();if(i.debug_mode)console.log("caption.js | Caption: "+r);if(i.force_dimensions&&t.outerWidth()===(n||0)){if(i.debug_mode)console.log("caption.js | Forcing dimensions with a clone.");var f=s.clone().css({position:"absolute",left:"-9999px"}).appendTo("body");u=e("img",f).outerWidth(),a=e("img",f).outerHeight();f.remove()}else{u=t.outerWidth();a=o.outerHeight()}s.width(u);if(i.schema===true){s.attr({itemscope:"itemscope",itemtype:"http://schema.org/Photograph"});o.attr("itemprop","name");t.attr("itemprop","image")}if(i.mode==="stacked"){s.addClass("stacked");o.css({"margin-bottom":"0",bottom:"0"})}if(i.mode==="animated"){s.addClass("animated");o.css({"margin-bottom":"0",bottom:-a})}if(i.mode==="hide"){s.addClass("hide");o.css({"margin-bottom":a,bottom:-a})}})}})(jQuery,window)
